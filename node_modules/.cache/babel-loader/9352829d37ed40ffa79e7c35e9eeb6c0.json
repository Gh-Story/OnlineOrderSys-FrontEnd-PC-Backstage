{"remainingRequest":"E:\\HBuilderX\\save\\save\\pc_bg_f\\node_modules\\babel-loader\\lib\\index.js!E:\\HBuilderX\\save\\save\\pc_bg_f\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\HBuilderX\\save\\save\\pc_bg_f\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HBuilderX\\save\\save\\pc_bg_f\\src\\views\\Home\\Chat\\Chat.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HBuilderX\\save\\save\\pc_bg_f\\src\\views\\Home\\Chat\\Chat.vue","mtime":1595491475667},{"path":"E:\\HBuilderX\\save\\save\\pc_bg_f\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500371},{"path":"E:\\HBuilderX\\save\\save\\pc_bg_f\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500371},{"path":"E:\\HBuilderX\\save\\save\\pc_bg_f\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500371},{"path":"E:\\HBuilderX\\save\\save\\pc_bg_f\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500371}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy/lpoLmnpxpZD4wLOWImeWwhmN1c3RvbWVyTmFtZeaYvuekuuWcqOW3puS+p++8jOS4uueUqOaIt+aJgOWPkea2iOaBrwogICAgICAvL+WmguaenGlkPS0xLOWImeWwhmN1c3RvbWVyTmFtZeaYvuekuuWcqOWPs+S+p++8jOS4uueuoeeQhuWRmOaJgOWbnuWkjeeahOa2iOaBrwogICAgICBtZXNzYWdlczogW10sCiAgICAgIFNlbGVjdG1lc3NhZ2VzOiBbXSwKICAgICAgYmFzZUN1c3RvbWVyczogW10sCiAgICAgIHZhbHVlOiAnJywKICAgICAgbWVzc2FnZTogJycsCiAgICAgIHdzOiAnJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBuYW1lOiBmdW5jdGlvbiBuYW1lKCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpZiAoaXRlbS5jdXN0b21lcklkID4gMCkgcmV0dXJuIGl0ZW0uY3VzdG9tZXJOYW1lO2Vsc2UgcmV0dXJuICflm57lpI06JyArIGl0ZW0uY3VzdG9tZXJOYW1lOwogICAgICB9OwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2VuZE1lc3NhZ2U6IGZ1bmN0aW9uIHNlbmRNZXNzYWdlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGN1c3RvbWVyTmFtZSA9ICcnOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJhc2VDdXN0b21lcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy52YWx1ZSA9PSB0aGlzLmJhc2VDdXN0b21lcnNbaV0uaW5kZXgpIHsKICAgICAgICAgIGN1c3RvbWVyTmFtZSA9IHRoaXMuYmFzZUN1c3RvbWVyc1tpXS5uYW1lOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgbWVzc2FnZV9pdGVtID0gewogICAgICAgIGN1c3RvbWVySWQ6IC0xLAogICAgICAgIGN1c3RvbWVyTmFtZTogJycsCiAgICAgICAgdG9JZDogMCwKICAgICAgICBtZXNzYWdlOiAnJwogICAgICB9OwogICAgICBtZXNzYWdlX2l0ZW0uY3VzdG9tZXJOYW1lID0gY3VzdG9tZXJOYW1lOwogICAgICBtZXNzYWdlX2l0ZW0ubWVzc2FnZSA9IHRoaXMubWVzc2FnZTsKICAgICAgbWVzc2FnZV9pdGVtLnRvSWQgPSB0aGlzLnZhbHVlOwogICAgICB0aGlzLm1lc3NhZ2VzLnB1c2gobWVzc2FnZV9pdGVtKTsKICAgICAgdGhpcy5TZWxlY3RtZXNzYWdlcy5wdXNoKG1lc3NhZ2VfaXRlbSk7CiAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgZnJvbTogMCwKICAgICAgICB0bzogMCwKICAgICAgICBtZXNzYWdlOiAnJwogICAgICB9OwogICAgICBtc2cuZnJvbSA9IC0xOwogICAgICBtc2cudG8gPSB0aGlzLnZhbHVlOwogICAgICBtc2cubWVzc2FnZSA9IG1lc3NhZ2VfaXRlbS5tZXNzYWdlOwogICAgICB2YXIgcmVzID0gbXNnLm1lc3NhZ2UgKyAnXycgKyBtc2cuZnJvbSArICdfJyArIG1zZy50bzsKICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgdGhpcy53cy5zZW5kKHJlcyk7CiAgICAgIHRoaXMubWVzc2FnZSA9ICcnOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJHJlZnMubWFpbi5zY3JvbGxUb3AgPSBfdGhpcy4kcmVmcy5jb250ZW50LnNjcm9sbEhlaWdodDsKICAgICAgfSk7CiAgICB9LAogICAgd3NNZXNzYWdlOiBmdW5jdGlvbiB3c01lc3NhZ2UoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZyhldmVudC5kYXRhKTsgLy/ov5Tlm57mlbDmja7nmoTlhoXlrrkKCiAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTsKICAgICAgY29uc29sZS5sb2coZGF0YS5tZXNzYWdlVHlwZSk7CgogICAgICBpZiAoZGF0YS5tZXNzYWdlVHlwZSA9PSAxKSB7CiAgICAgICAgdmFyIG1lc3NhZ2VfaXRlbSA9IHsKICAgICAgICAgIGN1c3RvbWVySWQ6IC0xLAogICAgICAgICAgY3VzdG9tZXJOYW1lOiAnJywKICAgICAgICAgIHRvSWQ6IC0xLAogICAgICAgICAgbWVzc2FnZTogJycKICAgICAgICB9OwogICAgICAgIG1lc3NhZ2VfaXRlbS5jdXN0b21lcklkID0gZGF0YS5jbGllbnRJZDsKICAgICAgICBtZXNzYWdlX2l0ZW0uY3VzdG9tZXJOYW1lID0gZGF0YS5jbGllbnROYW1lOwogICAgICAgIG1lc3NhZ2VfaXRlbS5tZXNzYWdlID0gZGF0YS5tZXNzYWdlOwogICAgICAgIHRoaXMubWVzc2FnZXMucHVzaChtZXNzYWdlX2l0ZW0pOwogICAgICAgIHRoaXMucmVmcmVzaChkYXRhLmNsaWVudElkKTsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuJHJlZnMubWFpbi5zY3JvbGxUb3AgPSBfdGhpczIuJHJlZnMuY29udGVudC5zY3JvbGxIZWlnaHQ7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAoZGF0YS5tZXNzYWdlVHlwZSA9PSAyKSB7CiAgICAgICAgdGhpcy5iYXNlQ3VzdG9tZXJzID0gW107CiAgICAgICAgdmFyIGxpc3QgPSBkYXRhLm9ubGluZVVzZXJzOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmIChsaXN0W2ldLmN1c3RvbWVySWQgPiAwKSB7CiAgICAgICAgICAgIHZhciBpdGVtID0gewogICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgIGluZGV4OiAnJwogICAgICAgICAgICB9OwogICAgICAgICAgICBpdGVtLm5hbWUgPSBsaXN0W2ldLmN1c3RvbWVyTmFtZSArICcoJyArIGxpc3RbaV0uY3VzdG9tZXJJZCArICcpJzsKICAgICAgICAgICAgaXRlbS5pbmRleCA9IGxpc3RbaV0uY3VzdG9tZXJJZDsKICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbSk7CiAgICAgICAgICAgIHRoaXMuYmFzZUN1c3RvbWVycy5wdXNoKGl0ZW0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHdzT3BlbjogZnVuY3Rpb24gd3NPcGVuKCkgewogICAgICBjb25zb2xlLmxvZygnd2Vic29ja2V0Lei/nuaOpeW3sue7j+W7uueriycpOwogICAgfSwKICAgIHdzQ2xvc2U6IGZ1bmN0aW9uIHdzQ2xvc2UoKSB7CiAgICAgIGNvbnNvbGUubG9nKCd3ZWJzb2NrZXQt6L+e5o6l5bey57uP5YWz6ZetJyk7CiAgICB9LAogICAgd3NFcnJvcjogZnVuY3Rpb24gd3NFcnJvcigpIHsKICAgICAgY29uc29sZS5sb2coJ3dlYnNvY2tldC3lh7rnjrDplJnor68nKTsKICAgIH0sCiAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKHZhbCkgewogICAgICB0aGlzLlNlbGVjdG1lc3NhZ2VzID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWVzc2FnZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy5tZXNzYWdlc1tpXS5jdXN0b21lcklkID09IHZhbCB8fCB0aGlzLm1lc3NhZ2VzW2ldLnRvSWQgPT0gdmFsKSB7CiAgICAgICAgICB0aGlzLlNlbGVjdG1lc3NhZ2VzLnB1c2godGhpcy5tZXNzYWdlc1tpXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQoIndzOi8vbG9jYWxob3N0OjgwODAvd3NzL1x1NUJBMlx1NjcwRFx1NUMwRlx1OTk3MS8tMSIpOwogICAgdGhpcy53cy5vbm9wZW4gPSB0aGlzLndzT3BlbjsKICAgIHRoaXMud3Mub25jbG9zZSA9IHRoaXMud3NDbG9zZTsKICAgIHRoaXMud3Mub25lcnJvciA9IHRoaXMud3NFcnJvcjsKICAgIHRoaXMud3Mub25tZXNzYWdlID0gdGhpcy53c01lc3NhZ2U7CiAgfQp9Ow=="},{"version":3,"sources":["Chat.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div class=\"Chat\">\n\t\t<div class=\"Panel\">\n\t\t\t<el-card class=\"Mycard\">\n\t\t\t  <div class=\"head\" slot=\"header\" style=\"text-align: center;\">\n\t\t\t    <span >聊天框</span>\n\t\t\t  </div>\n\t\t\t  <div class=\"body\">\n\t\t\t\t<div ref=\"main\" class=\"middle\">\n\t\t\t\t\t<div ref=\"content\">\n\t\t\t\t\t\t<div v-for=\"item in Selectmessages\">\n\t\t\t\t\t\t\t<div :class=\"{left:item.customerId>0,right:item.customerId<0}\" style=\"width: 60%;\">\n\t\t\t\t\t\t\t\t<div class=\"name\">\n\t\t\t\t\t\t\t\t\t<span>{{name(item)}}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"chartBox\">\n\t\t\t\t\t\t\t\t  <span v-text=\"item.message\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bottom\">\n\t\t\t\t\t<el-row>\n\t\t\t\t\t\t<el-col :span=\"8\">\n\t\t\t\t\t\t\t<span style=\"padding-left:4%; font-size: 10px;\">发送至：</span>\n\t\t\t\t\t\t\t<el-select v-model=\"value\"\n\t\t\t\t\t\t\t\t\t   size=\"mini\"\n\t\t\t\t\t\t\t\t\t   style=\"padding-left: 3%;padding-top: 3px;width:60%\" \n\t\t\t\t\t\t\t\t\t   placeholder=\"客户名\"\n\t\t\t\t\t\t\t\t\t   @change=\"refresh\">\n\t\t\t\t\t\t\t\t<el-option\n\t\t\t\t\t\t\t\t  v-for=\"item in baseCustomers\"\n\t\t\t\t\t\t\t\t  :value=\"item.index\"\n\t\t\t\t\t\t\t\t  :label=\"item.name\">\n\t\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t</el-col>\n\t\t\t\t\t</el-row>\n\t\t\t\t\t<el-row>\n\t\t\t\t\t\t<el-col :span=\"20\">\n\t\t\t\t\t\t\t<el-input\n\t\t\t\t\t\t\t  style=\"padding-left: 2%;padding-top: 5px;\"\n\t\t\t\t\t\t\t  type=\"textarea\"\n\t\t\t\t\t\t\t  :autosize=\"{minRows:2,maxRows:3}\"\n\t\t\t\t\t\t\t  placeholder=\"请输入内容\"\n\t\t\t\t\t\t\t  v-model=\"message\">\n\t\t\t\t\t\t\t</el-input>\n\t\t\t\t\t\t</el-col>\n\t\t\t\t\t\t<el-col :span=\"4\">\n\t\t\t\t\t\t\t <el-button @click=\"sendMessage\" style=\" float:right; margin-right:15px;margin-top: 15px;\" type=\"warning\" size=\"small\">发送</el-button>\n\t\t\t\t\t\t</el-col>\n\t\t\t\t\t</el-row>\n\t\t\t\t</div>\n\t\t\t  </div>\n\t\t\t  \n\t\t\t</el-card>\n\t\t</div>\n\t</div>\n\t\n</template>\n\n<script>\n\texport default {\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\t//如果id>0,则将customerName显示在左侧，为用户所发消息\n\t\t\t\t//如果id=-1,则将customerName显示在右侧，为管理员所回复的消息\n\t\t\t\tmessages:[],\n\t\t\t\tSelectmessages:[],\n\t\t\t\tbaseCustomers:[],\n\t\t\t\tvalue:'',\n\t\t\t\tmessage:'',\n\t\t\t\tws:''\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tcomputed:{\n\t\t\t\n\t\t\tname(){\n\t\t\t\treturn(item)=>{\n\t\t\t\t\tif(item.customerId>0)return item.customerName;\n\t\t\t\t\telse return '回复:'+item.customerName;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tsendMessage(){\n\t\t\t\tlet customerName='';\n\t\t\t\tfor(let i=0;i<this.baseCustomers.length;i++){\n\t\t\t\t\tif(this.value==this.baseCustomers[i].index){\n\t\t\t\t\t\tcustomerName=this.baseCustomers[i].name;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet message_item={customerId:-1,customerName:'',toId:0,message:''};\n\t\t\t\tmessage_item.customerName=customerName;\n\t\t\t\tmessage_item.message=this.message;\n\t\t\t\tmessage_item.toId=this.value;\n\t\t\t\tthis.messages.push(message_item);\n\t\t\t\tthis.Selectmessages.push(message_item);\n\t\t\t\t\n\t\t\t\tlet msg={from:0,to:0,message:''};\n\t\t\t\tmsg.from=-1;\n\t\t\t\tmsg.to=this.value;\n\t\t\t\tmsg.message=message_item.message;\n\t\t\t\tlet res=msg.message+'_'+msg.from+'_'+msg.to;\n\t\t\t\tconsole.log(res);\n\t\t\t\tthis.ws.send(res);\n\t\t\t\tthis.message='';\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t       this.$refs.main.scrollTop = this.$refs.content.scrollHeight;\n\t\t\t\t});\n\t\t\t},\n\t\t\twsMessage(event) {\n                console.log(event.data);//返回数据的内容\n\t\t\t\tlet data=JSON.parse(event.data);\n\t\t\t\tconsole.log(data.messageType);\n                if(data.messageType==1){\n\t\t\t\t\tlet message_item={customerId:-1,customerName:'',toId:-1,message:''};\n\t\t\t\t\tmessage_item.customerId=data.clientId;\n\t\t\t\t\tmessage_item.customerName=data.clientName;\n\t\t\t\t\tmessage_item.message=data.message;\n\t\t\t\t\tthis.messages.push(message_item);\r\n\t\t\t\t\tthis.refresh(data.clientId);\n\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t       this.$refs.main.scrollTop = this.$refs.content.scrollHeight;\n\t\t\t\t\t});\n\t\t\t\t}else if(data.messageType==2){\n\t\t\t\t\tthis.baseCustomers=[];\n\t\t\t\t\tlet list=data.onlineUsers;\n\t\t\t\t\tfor(let i=0;i<list.length;i++){\n\t\t\t\t\t\tif(list[i].customerId>0){\n\t\t\t\t\t\t\tlet item={name:'',index:''};\n\t\t\t\t\t\t\titem.name = list[i].customerName+'('+list[i].customerId+')';\n\t\t\t\t\t\t\titem.index = list[i].customerId;\n\t\t\t\t\t\t\tconsole.log(item);\n\t\t\t\t\t\t\tthis.baseCustomers.push(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\n            },\n            wsOpen() {\n                console.log('websocket-连接已经建立');\n            },\n            wsClose() {\n                console.log('websocket-连接已经关闭');\n            },\n            wsError() {\n                console.log('websocket-出现错误');\n            },\n\t\t\trefresh(val){\n\t\t\t\tthis.Selectmessages=[];\n\t\t\t\tfor(let i=0;i<this.messages.length;i++){\n\t\t\t\t\tif(this.messages[i].customerId==val||this.messages[i].toId==val){\n\t\t\t\t\t\tthis.Selectmessages.push(this.messages[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n            \n\t\t},\n\t\tcreated(){\n\t\t\tthis.ws = new WebSocket(`ws://localhost:8080/wss/客服小饱/-1`);\n\t\t\tthis.ws.onopen = this.wsOpen;\n\t\t\tthis.ws.onclose = this.wsClose;\n\t\t\tthis.ws.onerror = this.wsError;\n\t\t\tthis.ws.onmessage = this.wsMessage;\n\t\t}\n\t}\n</script>\n\n<style lang=\"less\" scoped>\n\n\t.Chat{\n\t\twidth: 100%;\n\t\t.Panel{\n\t\t\t//background-color: blue;\n\t\t\theight:580px;\n\t\t\twidth:70%;\n\t\t\tmargin-top: 30px;\n\t\t\tmargin-left: 10%;\n\t\t\tmargin-right: 100px;\n\t\t\t.Mycard{\n\t\t\t\theight: 100%;\n\t\t\t\t/deep/ .el-card__header{\n\t\t\t\t\tbackground-color:#f6f6f6 ;\n\t\t\t\t}\n\t\t\t\t.head{\n\t\t\t\t\t//background-color: #f6f6f6;\n\t\t\t\t}\n\t\t\t\t.body{\n\t\t\t\t\t\n\t\t\t\t\t.middle{\n\t\t\t\t\t\tpadding-left: 5px;\n\t\t\t\t\t\tpadding-right: 5px;\n\t\t\t\t\t\theight: 405px;\n\t\t\t\t\t\toverflow: auto;\n\t\t\t\t\t\t//background-color: #eaeaea;\n\t\t\t\t\t\t.left{\n\t\t\t\t\t\t\tpadding-top: 5px;\n\t\t\t\t\t\t\tfloat:left;\n\t\t\t\t\t\t\ttext-align: left;\n\t\t\t\t\t\t\t.chartBox{\n\t\t\t\t\t\t\t\tpadding-left: 15px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.right{\n\t\t\t\t\t\t\tfloat:right;\n\t\t\t\t\t\t\ttext-align: right;\n\t\t\t\t\t\t\t.chartBox{\n\t\t\t\t\t\t\t\tpadding-right: 15px;\n\t\t\t\t\t\t\t\tspan{\n\t\t\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\t\t\t//background-color: #e2f5fa;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.name{\n\t\t\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.chartBox{\n\t\t\t\t\t\t\tpadding: 6px;\n\t\t\t\t\t\t\tfont-size: 16px;\n\t\t\t\t\t\t\tspan{\n\t\t\t\t\t\t\t\tbackground-color: #e2f5fa;\n\t\t\t\t\t\t\t\tborder: 1px solid #e5e8f0;\n\t\t\t\t\t\t\t\tpadding: 3px;\n\t\t\t\t\t\t\t\tborder-radius: 5px;\n\t\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\t\tword-break:break-all;\n\t\t\t\t\t\t\t\tdisplay:inline-block;\n\t\t\t\t\t\t\t\t//display:block; \n\t\t\t\t\t\t\t\t//word-wrap : break-word ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t.bottom{\n\t\t\t\t\t\theight: 90px;\n\t\t\t\t\t\t//background-color: #e5e8f0;\n\t\t\t\t\t\tborder-top:1px solid #e5e8f0;\n\t\t\t\t\t\t/deep/ .el-button{\n\t\t\t\t\t\t\tbackground-color: #e2f5fa;\n\t\t\t\t\t\t\tborder-color:  #c6f5fa;\n\t\t\t\t\t\t\tcolor: black;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t/deep/.el-card__body{\n\t\t\t\t\tpadding: 0px !important;\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\t\n</style>"],"sourceRoot":"src/views/Home/Chat"}]}