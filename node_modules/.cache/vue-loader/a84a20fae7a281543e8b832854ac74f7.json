{"remainingRequest":"D:\\HBuilderProject\\pc_bg_f\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HBuilderProject\\pc_bg_f\\src\\views\\Home\\TaskManage\\TaskManage.vue?vue&type=style&index=0&id=d6828f8e&lang=less&scoped=true&","dependencies":[{"path":"D:\\HBuilderProject\\pc_bg_f\\src\\views\\Home\\TaskManage\\TaskManage.vue","mtime":1594215774000},{"path":"D:\\HBuilderProject\\pc_bg_f\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HBuilderProject\\pc_bg_f\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\HBuilderProject\\pc_bg_f\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\HBuilderProject\\pc_bg_f\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HBuilderProject\\pc_bg_f\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HBuilderProject\\pc_bg_f\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudGFza01hbmFnZXsKCXBhZGRpbmctdG9wOiAyMHB4OwoJcGFkZGluZy1sZWZ0OiAyMHB4OwoJcGFkZGluZy1yaWdodDogNjBweDsKCS5sYWJlbHN7CgkJcGFkZGluZy1ib3R0b206IDEwcHg7Cgl9CgkKfQo="},{"version":3,"sources":["TaskManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8VA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"TaskManage.vue","sourceRoot":"src/views/Home/TaskManage","sourcesContent":["<template>\r\n\t<div class=\"taskManage\">\r\n\t  <el-card>\r\n\t\t\t<div class=\"search\">\r\n\t\t\t\t<el-form :inline=\"true\" class=\"demo-form-inline\">\r\n\t\t\t\t  <el-form-item label=\"任务查找:\">\r\n\t\t\t\t    <el-input v-model=\"queryTask.name\" placeholder=\"请输入任务相关信息\"></el-input>\r\n\t\t\t\t  </el-form-item>\r\n\t\t\t\t  \r\n\t\t\t\t  <el-form-item>\r\n\t\t\t\t    <el-button type=\"primary\" @click=\"queryTasks()\">查询</el-button>\r\n\t\t\t\t  </el-form-item>\r\n\t\t\t\t  <el-form-item>\r\n\t\t\t\t\t<el-button  @click=\"addTasks()\">新增任务</el-button>\r\n\t\t\t\t  </el-form-item>\r\n\t\t\t\t</el-form>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t<div class='labels'>\r\n\t\t\t   <div>\r\n\t\t\t\t  任务状态：\r\n\t\t\t      <el-radio-group v-model=\"queryTask.type\">\r\n\t\t\t        <el-radio-button label=\"全部\"></el-radio-button>\r\n\t\t\t        <el-radio-button label=\"使用中\"></el-radio-button>\r\n\t\t\t        <el-radio-button label=\"待使用\"></el-radio-button>\r\n\t\t\t        <el-radio-button label=\"已作废\"></el-radio-button>\r\n\t\t\t        \t\t\t       \r\n\t\t\t      </el-radio-group>\r\n\t\t\t    </div>\r\n\t\t\t</div>\r\n\t\t\t<div class='labels-1'>\r\n\t\t\t    <div style=\"display: inline;\">\r\n\t\t\t\t\t<label>任务订单需求：</label>\r\n\t\t\t\t\t<el-input v-model=\"queryTask.min_need\" style=\"width: 80px;\" placeholder=\"最小值\"></el-input>\r\n\t\t\t\t\t<label>&nbsp;-&nbsp;</label>\r\n\t\t\t\t\t<el-input v-model=\"queryTask.max_need\" style=\"width: 80px;\" placeholder=\"最大值\"></el-input>\r\n\t\t\t    </div>\r\n\t\t\t</div>\r\n\t  </el-card><br />\r\n\t  <el-card>\r\n\t\t\t<div class=\"table_part\">\r\n\t\t\t\t<div class='middle'>\r\n\t\t\t\t  <el-table\r\n\t\t\t\t    :data=\"tasks\"\r\n\t\t\t\t    style=\"width: 100%\"\r\n\t\t\t\t\t>\r\n\t\t\t\t    <el-table-column\r\n\t\t\t\t      prop=\"ID\"\r\n\t\t\t\t      label=\"任务ID\"\r\n\t\t\t\t\t  >\r\n\t\t\t\t    </el-table-column>\r\n\t\t\t\t    <el-table-column\r\n\t\t\t\t      prop=\"name\"\r\n\t\t\t\t      label=\"任务名称\">\r\n\t\t\t\t    </el-table-column>\r\n\t\t\t\t    <el-table-column\r\n\t\t\t\t      prop=\"need\"\r\n\t\t\t\t      label=\"需求订单数量\">\r\n\t\t\t\t    </el-table-column>\r\n\t\t\t\t\t<el-table-column\r\n\t\t\t\t\t  prop=\"redpacket_id\"\r\n\t\t\t\t\t  label=\"红包id\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column\r\n\t\t\t\t\t  prop=\"state\"\r\n\t\t\t\t\t  :formatter=\"formatDate\"\r\n\t\t\t\t\t  label=\"任务状态\">\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column\r\n\t\t\t\t\t  fixed=\"right\"\r\n\t\t\t\t\t  label=\"操作\"\r\n\t\t\t\t      width=\"100\">\r\n\t\t\t\t\t  <template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-button @click=\"updateTasks(scope.row)\" type=\"text\" size=\"small\">修改</el-button>\r\n\t\t\t\t\t\t<el-button @click=\"delTask(scope.row)\" type=\"text\" size=\"small\">删除</el-button>\r\n\t\t\t\t\t  </template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t  </el-table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t  </el-card>\r\n\t\t\t<div class=\"dialog\">\r\n\t\t\t\t<el-dialog title=\"新增任务\" :visible.sync=\"dialogFormVisible\">\r\n\t\t\t\t  <el-form >\r\n\t\t\t\t\t<el-form-item label=\"任务名称\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t  <el-input v-model=\"addTask.name\" style=\"width:150px\"autocomplete=\"off\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"任务使用红包\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t  <el-select v-model=\"addTask.redpacket_id\" placeholder=\"请选择活动区域\">\r\n\t\t\t\t\t\t<el-option v-for=\"item in redpackets\" :label=\"item.redpacket_name\" :value=\"item.redpacket_id\"></el-option>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t  </el-select>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"需求订单数量\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t  <el-input v-model=\"addTask.need\" style=\"width:150px\"autocomplete=\"off\"></el-input>\r\n\t\t\t\t\t \r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"是否开启任务\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t  <el-radio-group v-model=\"addTask.state\">\r\n\t\t\t\t\t    <el-radio label=\"启用\"></el-radio>\r\n\t\t\t\t\t    <el-radio label=\"待用\"></el-radio>\r\n\t\t\t\t\t  </el-radio-group>\r\n\t\t\t\t\t \r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t  </el-form>\r\n\t\t\t\t  <div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t\t<el-button @click=\"cancelAdd()\">取 消</el-button>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"submitAdd()\">确 定</el-button>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</el-dialog>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"dialog1\">\r\n\t\t\t\t<el-dialog title=\"修改任务\" :visible.sync=\"update_dialogFormVisible\">\r\n\t\t\t\t  <el-form >\r\n\t\t\t\t\t<el-form-item label=\"任务名称\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t  <el-input v-model=\"updateTask.name\" style=\"width:150px\"autocomplete=\"off\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"任务使用红包\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t  <el-select v-model=\"updateTask.redpacket_id\" placeholder=\"请选择活动区域\">\r\n\t\t\t\t\t\t<el-option v-for=\"item in redpackets\" :label=\"item.redpacket_name\" :value=\"item.redpacket_id\"></el-option>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t  </el-select>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"需求订单数量\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t  <el-input v-model=\"updateTask.need\" style=\"width:150px\"autocomplete=\"off\"></el-input>\r\n\t\t\t\t\t \r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"任务状态\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t  <el-select v-model=\"updateTask.state\"   placeholder=\"请选择活动区域\">\r\n\t\t\t\t\t    <el-option label=\"使用中\" value=\"使用中\"></el-option>\r\n\t\t\t\t\t    <el-option label=\"待使用\" value=\"待使用\"></el-option>\r\n\t\t\t\t\t\t<el-option label=\"已作废\" value=\"已作废\"></el-option>\r\n\t\t\t\t\t  </el-select>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\r\n\t\t\t\t  </el-form>\r\n\t\t\t\t  <div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t\t<el-button @click=\"cancelUpdate()\">取 消</el-button>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"submitUpdate()\">确 定</el-button>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</el-dialog>\r\n\t\t\t</div>\r\n\t</div>\n</template>\n\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t  return {\r\n\t\t\tqueryTask:{\r\n\t\t\t\tname:'',\r\n\t\t\t\ttype:'全部',\r\n\t\t\t\tmin_need:'',\r\n\t\t\t\tmax_need:'',\r\n\t\t\t},\r\n\t\t\tupdateTask:{\r\n\t\t\t\tID:'',\r\n\t\t\t\tname:'',\r\n\t\t\t\tstate:'',\r\n\t\t\t\tneed:'',\r\n\t\t\t\tredpacket_id:''\r\n\t\t\t},\r\n\t\t\taddTask:{\r\n\t\t\t\tname:'',\r\n\t\t\t\tstate:'',\r\n\t\t\t\tneed:'',\r\n\t\t\t\tredpacket_id:'',\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tredpackets:[{\r\n\t\t\t\t\tredpacket_id:'1',\r\n\t\t\t\t\tredpacket_name:'3元红包',\r\n\t\t\t\t},{\r\n\t\t\t\t\tredpacket_id:'2',\r\n\t\t\t\t\tredpacket_name:'2元红包',\r\n\t\t\t\t},{\r\n\t\t\t\t\tredpacket_id:'3',\r\n\t\t\t\t\tredpacket_name:'10元红包',\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\ttasks: [\r\n\t\t\t\t{\r\n\t\t\t\t  ID: '1',\r\n\t\t\t\t  name:'0622任务',\r\n\t\t\t\t  need: '2',\r\n\t\t\t\t  redpacket_id:'6',\r\n\t\t\t\t  state:'3',\r\n\t\t\t\t  \r\n\t\t\t\t},{\r\n\t\t\t\t  ID: '2',\r\n\t\t\t\t  name:'0622任务',\r\n\t\t\t\t  need: '2',\r\n\t\t\t\t  redpacket_id:'6',\r\n\t\t\t\t  state:'3',\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tdialogFormVisible: false,\r\n\t\t\t//dialogFormVisible: false,\r\n\t\t\tupdate_dialogFormVisible: false,\r\n\t\t\tformLabelWidth: '120px',\r\n\t\t  }\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.query();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tquery(){\r\n\t\t\t\tthis.axios.default.withCredentials=true;\r\n\t\t\t\tthis.axios.get('http://localhost:8080/redpacket/selectAll').then(r=>{\r\n\t\t\t\t\tconsole.log(r.data);\r\n\t\t\t\t\tlet list = r.data.msg.redpacketList;\r\n\t\t\t\t\tthis.redpackets=[];\r\n\t\t\t\t\tfor(let i=0;i<list.length;i++){\r\n\t\t\t\t\t\tlet item={redpacket_id:'',redpacket_name:''};\r\n\t\t\t\t\t\titem.redpacket_id=list[i].redpacketId;\r\n\t\t\t\t\t\titem.redpacket_name=list[i].redpacketName;\r\n\t\t\t\t\t\tthis.redpackets.push(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdelTask(row){\r\n\t\t\t\tlet form={'mission_id':row.ID};\r\n\t\t\t\tconsole.log(row.ID);\r\n\t\t\t\tthis.axios.default.withCredentials=true;\r\n\t\t\t\tthis.axios.post('http://localhost:8080/mission/deleteMission',form).then(r=>{\r\n\t\t\t\t\tconsole.log(r.data);\r\n\t\t\t\t\t//alert(r.data.detail);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tcancelUpdate(){\r\n\t\t\t\tthis.updateTask.name='';\r\n\t\t\t\tthis.updateTask.state='';\r\n\t\t\t\tthis.updateTask.need='';\r\n\t\t\t\tthis.updateTask.redpacket_id='';\r\n\t\t\t\tthis.update_dialogFormVisible = false;\r\n\t\t\t},\r\n\t\t\tupdateTasks(row){\r\n\t\t\t\t//this.redpackets=queryRedpackets();\r\n\t\t\t\tthis.updateTask.name=row.name;\r\n\t\t\t\tthis.updateTask.ID= row.ID;\r\n\t\t\t\tif(row.state==1)\r\n\t\t\t\t\tthis.updateTask.state= '使用中';\r\n\t\t\t\telse if(row.state==2)\r\n\t\t\t\t\tthis.updateTask.state= '待使用';\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.updateTask.state= '已作废';\r\n\t\t\t\t\r\n\t\t\t\tthis.updateTask.need= row.need;\r\n\t\t\t\tthis.updateTask.redpacket_id= row.redpacket_id;\r\n\t\t\t\tthis.update_dialogFormVisible = true;\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tsubmitUpdate(){\r\n\t\t\t\tlet updateTask = {missionId:'',missionName:'',missionState:'',missionNeed:'',\r\n\t\t\t\t\t\t\t   redpacketId:''};\r\n\t\t\t\tupdateTask.missionId=this.updateTask.ID;\r\n\t\t\t\tupdateTask.missionName=this.updateTask.name;\r\n\t\t\t\tupdateTask.missionNeed=this.updateTask.need;\r\n\t\t\t\tupdateTask.redpacketId=this.updateTask.redpacket_id;\r\n\t\t\t\t\r\n\t\t\t\tif(this.updateTask.state==\"使用中\")\r\n\t\t\t\t  updateTask.missionState=1;\r\n\t\t\t\telse if(this.updateTask.state==\"待使用\")\r\n\t\t\t\t  updateTask.missionState=2;\r\n\t\t\t\telse \r\n\t\t\t\t  updateTask.missionState=3;\r\n\t\t\t\tconsole.log(updateTask);\r\n\t\t\t\tthis.axios.post('http://localhost:8080/mission/updateMission',updateTask).then(r=>{\r\n\t\t\t\t\tconsole.log(r.data);\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\tthis.update_dialogFormVisible = false;\r\n\t\t\t},\r\n\t\t\tcancelAdd(){\r\n\t\t\t\tthis.addTask.name='';\r\n\t\t\t\tthis.addTask.state='';\r\n\t\t\t\tthis.addTask.need='';\r\n\t\t\t\tthis.addTask.redpacket_id='';\r\n\t\t\t\tthis.dialogFormVisible = false;\r\n\t\t\t},\r\n\t\t\tsubmitAdd(){\r\n\t\t\t\tlet addTask = {missionName:'',missionState:'',missionNeed:'',\r\n\t\t\t\t\t\t\t   redpacketId:''};\r\n\t\t\t\taddTask.missionName=this.addTask.name;\r\n\t\t\t\taddTask.missionNeed=this.addTask.need;\r\n\t\t\t\taddTask.redpacketId=this.addTask.redpacket_id;\r\n\t\t\t\t\r\n\t\t\t\tif(this.addTask.state==\"启用\")\r\n\t\t\t\t  addTask.missionState=1;\r\n\t\t\t\telse if(this.addTask.state==\"待用\")\r\n\t\t\t\t  addTask.missionState=2;\r\n\t\t\t\t  \r\n\t\t\t\tconsole.log(addTask);\r\n\t\t\t\tthis.axios.post('http://localhost:8080/mission/addMission',addTask).then(r=>{\r\n\t\t\t\t\tconsole.log(r.data);\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\tthis.dialogFormVisible = false;\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\taddTasks(){\r\n\t\t\t\t//this.redpackets=queryRedpackets();\r\n\t\t\t\tthis.dialogFormVisible = true;\r\n\t\t\t},\r\n\t\t\tqueryTasks(){\r\n\t\t\t\t\r\n\t\t\t\tlet queryTask={name:'',type:'0',min_need:'0',max_need:'0'};\r\n\t\t\t\tqueryTask.name=this.queryTask.name;\r\n\t\t\t\tqueryTask.min_need=this.queryTask.min_need;\r\n\t\t\t\tqueryTask.max_need=this.queryTask.max_need;\r\n\t\t\t\tqueryTask.type=0;\r\n\t\t\t\tif(this.queryTask.type==\"使用中\")\r\n\t\t\t\t  queryTask.type=1;\r\n\t\t\t\telse if(this.queryTask.type==\"待使用\")\r\n\t\t\t\t  queryTask.type=2;\r\n\t\t\t\telse if(this.queryTask.type==\"已作废\")\r\n\t\t\t\t  queryTask.type=3;\r\n\t\t\t\tconsole.log(queryTask);\r\n\t\t\t\tthis.axios.default.withCredentials=true;\r\n\t\t\t\tthis.axios.post('http://localhost:8080/mission/selectByDetail',queryTask).then(r=>{\r\n\t\t\t\t\tconsole.log(r.data);\r\n\t\t\t\t\tlet list = r.data.msg.missionList;\r\n\t\t\t\t\tthis.tasks=[];\r\n\t\t\t\t\tfor(let i=0;i<list.length;i++){\r\n\t\t\t\t\t\tlet item={ID:'',name:'',need: '',redpacket_id:'',state:'3',};\r\n\t\t\t\t\t\titem.ID=list[i].missionId;\r\n\t\t\t\t\t\titem.name=list[i].missionName;\r\n\t\t\t\t\t\titem.need=list[i].missionNeed;\r\n\t\t\t\t\t\titem.redpacket_id=list[i].redpacketId;\r\n\t\t\t\t\t\titem.state=list[i].missionState;\r\n\t\t\t\t\t\tthis.tasks.push(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tformatDate(value){\r\n\t\t\t  if(value.state==1)\r\n\t\t\t    return \"使用中\";\r\n\t\t\t  else if(value.state==2)\r\n\t\t\t\treturn \"待使用\";\r\n\t\t\t  else if(value.state==3)\r\n\t\t\t    return \"已作废\";\r\n\t\t\t}\r\n\t\t    \r\n\t\t},\r\n\t}\n</script>\n\n<style lang=\"less\" scoped>\r\n\t.taskManage{\r\n\t\tpadding-top: 20px;\r\n\t\tpadding-left: 20px;\r\n\t\tpadding-right: 60px;\r\n\t\t.labels{\r\n\t\t\tpadding-bottom: 10px;\r\n\t\t}\r\n\t\t\r\n\t}\n</style>\n"]}]}