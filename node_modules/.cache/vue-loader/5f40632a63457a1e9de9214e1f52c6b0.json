{"remainingRequest":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_bg_f\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_bg_f\\src\\views\\Home\\ResturantManage\\ResturantManage.vue?vue&type=style&index=0&id=552287f1&lang=less&scoped=true&","dependencies":[{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_bg_f\\src\\views\\Home\\ResturantManage\\ResturantManage.vue","mtime":1595498243945},{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_bg_f\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500371},{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_bg_f\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500371},{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_bg_f\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500371},{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_bg_f\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500371},{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_bg_f\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500371},{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_bg_f\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500371}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoucmVzdHVyYW50TWFuYWdlew0KICAgIGZsZXg6MzsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIC1mbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgIC1iYWNrZ3JvdW5kLWNvbG9yOiBiaXNxdWU7DQogICAgcGFkZGluZy10b3A6IDEwcHg7DQogICAgcGFkZGluZy1ib3R0b206IDEwcHg7DQogICAgcGFkZGluZy1sZWZ0OiAxMHB4Ow0KICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7DQogICAgLnJlc3R1cmFudE1hbmFnZUxlZnR7DQogICAgICAgIGZsZXg6MTsNCiAgICAgICAgLWJhY2tncm91bmQtY29sb3I6IGNvcmFsOw0KICAgICAgICBwYWRkaW5nLXRvcDogMTBweDsNCiAgICAgICAgcGFkZGluZy1ib3R0b206IDEwcHg7DQogICAgICAgIHBhZGRpbmctbGVmdDogMTBweDsNCiAgICAgICAgcGFkZGluZy1yaWdodDogMTBweDsNCiAgICB9DQogICAgLnJlc3R1cmFudE1hbmFnZVJpZ2h0ew0KICAgICAgICBmbGV4OjE7DQogICAgICAgIC1iYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGNvcmFsOw0KICAgICAgICBwYWRkaW5nLXRvcDogMTBweDsNCiAgICAgICAgcGFkZGluZy1ib3R0b206IDEwcHg7DQogICAgICAgIHBhZGRpbmctbGVmdDogMTBweDsNCiAgICAgICAgcGFkZGluZy1yaWdodDogMTBweDsNCiAgICB9DQogICAgLmxpbmV7DQogICAgICAgIGZsZXg6MTsNCiAgICAgICAgLWJhY2tncm91bmQtY29sb3I6IGxpZ2h0c2t5Ymx1ZTsNCiAgICAgICAgcGFkZGluZy10b3A6IDEwcHg7DQogICAgICAgIHBhZGRpbmctYm90dG9tOiA1cHg7DQogICAgICAgIHBhZGRpbmctbGVmdDogMTBweDsNCiAgICAgICAgcGFkZGluZy1yaWdodDogMTBweDsNCiAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAubCB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgICAgLWJhY2tncm91bmQtY29sb3I6IGxpZ2h0Y29yYWw7DQogICAgICAgICAgICAubDEgew0KICAgICAgICAgICAgICAgIGZsZXg6IDE7DQogICAgICAgICAgICAgICAgLWJhY2tncm91bmQtY29sb3I6ICM0MmI5ODM7DQogICAgICAgICAgICAgICAgcGFkZGluZy10b3A6IDEwcHg7DQogICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLmwyIHsNCiAgICAgICAgICAgICAgICBmbGV4OiAzOw0KICAgICAgICAgICAgICAgIC1iYWNrZ3JvdW5kLWNvbG9yOiBjb3JhbDsNCiAgICAgICAgICAgICAgICBwYWRkaW5nLXRvcDogMTBweDsNCiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLmwzIHsNCiAgICAgICAgICAgICAgICBmbGV4OiA0Ow0KICAgICAgICAgICAgICAgIC1iYWNrZ3JvdW5kLWNvbG9yOiBhenVyZTsNCiAgICAgICAgICAgICAgICBwYWRkaW5nLXRvcDogMHB4Ow0KICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIC5hdmF0YXItdXBsb2FkZXIgLmVsLXVwbG9hZCB7DQogICAgICAgIGJvcmRlcjogMXB4IGRhc2hlZCAjZDlkOWQ5Ow0KICAgICAgICAtYm9yZGVyOiAycHggcmVkOw0KICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7DQogICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgIH0NCiAgICAuYXZhdGFyLXVwbG9hZGVyIC5lbC11cGxvYWQ6aG92ZXIgew0KICAgICAgICBib3JkZXItY29sb3I6ICM0MDlFRkY7DQogICAgfQ0KICAgIC5hdmF0YXItdXBsb2FkZXItaWNvbiB7DQogICAgICAgIGZvbnQtc2l6ZTogMTZweDsNCiAgICAgICAgY29sb3I6ICM4YzkzOWQ7DQogICAgICAgIHdpZHRoOiA4MHB4Ow0KICAgICAgICBoZWlnaHQ6IDgwcHg7DQogICAgICAgIGxpbmUtaGVpZ2h0OiA4MHB4Ow0KICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgfQ0KICAgIC5hdmF0YXIgew0KICAgICAgICB3aWR0aDogODBweDsNCiAgICAgICAgaGVpZ2h0OiA4MHB4Ow0KICAgICAgICBkaXNwbGF5OiBibG9jazsNCiAgICB9DQp9DQo="},{"version":3,"sources":["ResturantManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ResturantManage.vue","sourceRoot":"src/views/Home/ResturantManage","sourcesContent":["<template>\r\n    <div class=\"resturantManage\">\r\n\r\n        <div class=\"resturantManageLeft\">\r\n\r\n            <el-card class=\"box-card\" style=\"height: 720px;\">\r\n                <div slot=\"header\" class=\"clearfix\" >\r\n                    <span style=\"font-size:18px;font-weight: bold;padding-bottom: 15px\"> 店铺管理 </span>\r\n                    <el-button @click=\"applyResturantEdit\" size=\"medium\" style=\"float: right;padding-bottom: 8px\" type=\"warning\">申请修改</el-button>\r\n                </div>\r\n<!--                <el-form ref=\"form\" :model=\"form\" :disabled=\"isDisabled\" label-width=\"100px\" style=\"font-size:16px\">-->\r\n<!--                    <div class=\"line\">-->\r\n<!--                        <el-form-item label=\"商家店名\">-->\r\n<!--                            <el-input  :label=\"form.resturantName\" placeholder=\"请输入商家店名\" v-model=\"form.addName\" style=\"width:90%;\"></el-input>-->\r\n<!--                        </el-form-item>-->\r\n<!--                    </div>-->\r\n<!--                </el-form>-->\r\n                <div class=\"line\">\r\n                    <div class=\"l\">\r\n                        <div class=\"l1\"> 商家店名 : </div>\r\n                        <div class=\"l2\"> {{resDetail.resName}} </div>\r\n                        <br>\r\n                    </div>\r\n                    <div class=\"l\">\r\n                        <div class=\"l1\"> 营业时间 : </div>\r\n                        <div class=\"l2\"> {{resDetail.onTime}} - {{resDetail.offTime}} </div>\r\n                        <br>\r\n                    </div>\r\n                    <div class=\"l\">\r\n                        <div class=\"l1\"> 营业资质 : </div>\r\n                        <div class=\"l2\"> {{resDetail.businessQualification}} </div>\r\n                        <br>\r\n                    </div>\r\n                    <div class=\"l\">\r\n                        <div class=\"l1\"> 商家地址 : </div>\r\n                        <div class=\"l2\"> {{resDetail.resAddress}} </div>\r\n                        <br>\r\n                    </div>\r\n                    <div class=\"l\">\r\n                        <div class=\"l1\"> 商家电话 : </div>\r\n                        <div class=\"l2\"> {{resDetail.resTelephoneNumber}} </div>\r\n                        <br>\r\n                    </div>\r\n                    <div class=\"l\">\r\n                        <div class=\"l1\"> 店二维码 : </div>\r\n                        <div class=\"l2\">\r\n                            <img :src=\"resDetail.resQrcode\" padding-left=\"30px\" width=\"100\" height=\"100\"/>\r\n                        </div>\r\n                        <br>\r\n                    </div>\r\n                    <div class=\"l\">\r\n                        <div class=\"l1\"> 店铺头像 : </div>\r\n                        <div class=\"l2\">\r\n                            <img :src=\"resDetail.resPhoto\" padding-left=\"30px\" width=\"260\" height=\"150\"/>\r\n                        </div>\r\n                        <br>\r\n                    </div>\r\n                    <br>\r\n                    <br>\r\n<!--                    <div class=\"l\" style=\"display: inline\">-->\r\n<!--                        <el-button type=\"danger\" plain>清空</el-button>-->\r\n<!--                        <el-button type=\"success\" plain>确定</el-button>-->\r\n<!--                    </div>-->\r\n                </div>\r\n            </el-card>\r\n        </div>\r\n        <div class=\"resturantManageRight\">\r\n            <el-card class=\"box-card\" style=\"height: 720px\">\r\n                <div slot=\"header\" class=\"clearfix\" >\r\n                    <span style=\"font-size:18px;font-weight: bold;padding-bottom: 15px\"> 通告管理 </span>\r\n                    <el-button @click=\"applyInfoEdit\" size=\"medium\" style=\"float: right;padding-bottom: 8px\" type=\"warning\">申请修改</el-button>\r\n                </div>\r\n               <div class=\"line\">\r\n                   <div class=\"l\">\r\n                       <div class=\"l1\"> 通告内容 : </div>\r\n                       <el-input\r\n                               type=\"textarea\"\r\n                               :autosize=\"{ minRows: 20, maxRows: 30}\"\r\n                               placeholder=\"请输入通告内容\"\r\n                               v-model=\"notice.noticeContent\"\r\n                               disabled\r\n                               class=\"l2\">\r\n                       </el-input>\r\n                       <br>\r\n                   </div>\r\n                   <br>\r\n                   <br>\r\n<!--                   <div class=\"l\" style=\"display: inline\">-->\r\n<!--                       <el-button type=\"danger\" plain>清空</el-button>-->\r\n<!--                       <el-button type=\"success\" plain>确定</el-button>-->\r\n<!--                   </div>-->\r\n               </div>\r\n            </el-card>\r\n        </div>\r\n\r\n        <div class=\"dialog\">\r\n            <el-dialog title=\"店铺信息修改\" :visible.sync=\"dialogResturantFormVisible\">\r\n            <el-form :model=\"form\" size=\"small\">\r\n                <el-form-item label=\"商家店名\" :label-width=\"formLabelWidth\">\r\n                    <el-input v-model=\"form.resName\" placeholder=\"请输入商家店名\" style=\"width:150px\"autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"营业时间\" :label-width=\"formLabelWidth\">\r\n                    <el-time-select\r\n                            placeholder=\"起始时间\"\r\n                            v-model=\"form.onTime\"\r\n                            style=\"width:150px\"\r\n                            :picker-options=\"{\r\n                              start: '08:30',\r\n                              step: '00:15',\r\n                              end: '18:30'\r\n                            }\">\r\n                    </el-time-select>\r\n                    <el-time-select\r\n                            placeholder=\"结束时间\"\r\n                            v-model=\"form.offTime\"\r\n                            style=\"width:150px\"\r\n                            :picker-options=\"{\r\n                              start: '08:30',\r\n                              step: '00:15',\r\n                              end: '18:30',\r\n                              minTime: form.onTime\r\n                            }\">\r\n                    </el-time-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"营业资质\" :label-width=\"formLabelWidth\">\r\n                    <el-input v-model=\"form.businessQualification\" placeholder=\"请输入营业资质\" style=\"width:150px\"autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"商家地址\" :label-width=\"formLabelWidth\">\r\n                    <el-input v-model=\"form.resAddress\" placeholder=\"请输入商家地址\" style=\"width:150px\"autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"商家电话\" :label-width=\"formLabelWidth\">\r\n                    <el-input v-model=\"form.resTelephoneNumber\" placeholder=\"请输入商家电话\" style=\"width:150px\"autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"店二维码\" :label-width=\"formLabelWidth\">\r\n                    <div @click=\"uploadResturantQrcodeImg\">\r\n                        <img style=\"border-radius:10%; width:150px; height:150px;\" :src=\"form.resQrcode\" fit=\"cover\">\r\n                        <input  hidden=\"hidden\" type=\"file\" accept=\"image/*\" @change=\"handleQrcodeFile\" class=\"hiddenInputQrcode\"/>\r\n                    </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"店铺头像\" :label-width=\"formLabelWidth\">\r\n                    <div @click=\"uploadResturantPhotoImg\">\r\n                        <img style=\"border-radius:10%; width:150px; height:150px;\" :src=\"form.resPhoto\" fit=\"cover\">\r\n                        <input  hidden=\"hidden\" type=\"file\" accept=\"image/*\" @change=\"handlePhotoFile\" class=\"hiddenInputPhoto\"/>\r\n                    </div>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogResturantFormVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"resturantInfoSubmit\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n        </div>\r\n        <div class=\"dialog\">\r\n        <el-dialog title=\"通告信息修改\" :visible.sync=\"dialogInfoFormVisible\">\r\n            <el-form size=\"small\">\r\n                <el-form-item label=\"通告内容\" :label-width=\"formLabelWidth\">\r\n                    <el-input\r\n                            type=\"textarea\"\r\n                            :autosize=\"{ minRows: 20, maxRows: 30}\"\r\n                            placeholder=\"请输入通告内容\"\r\n                            v-model=\"newNotice.noticeContent\"\r\n                            class=\"l2\">\r\n                    </el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogInfoFormVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"dialogInfoSubmit\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"ResturantManage\",\r\n        data(){\r\n          return{\r\n              isDisabled:true,\r\n              resDetail:{\r\n                  resDetailId:2,//ID\r\n                  resName:'饱了么',//商家名称\r\n                  // onTime:'08:00',//商家开始时间\r\n                  // offTime:'21:00',//商家结束时间\r\n                  onTime:'',//商家开始时间\r\n                  offTime:'',//商家结束时间\r\n                  businessQualification:'食品加工与销售',//商家营业资质\r\n                  resAddress:'辽宁省沈阳市浑南区闯新路195号',//商家地址\r\n                  resTelephoneNumber:'18888888888',//商家电话\r\n                  // resQrcode:'https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=810988444,1648289218&fm=11&gp=0.jpg',\r\n                  resQrcode:require('../../../../static/图片上传.png'),\r\n                  resPhoto:require('../../../../static/图片上传.png'),\r\n              },\r\n              formLabelWidth:'120px',\r\n              form:{\r\n                  resDetailId:2,//ID\r\n                  resName:'',//商家名称\r\n                  onTime:'',//商家开始时间\r\n                  offTime:'',//商家结束时间\r\n                  businessQualification:'',//商家营业资质\r\n                  resAddress:'',//商家地址\r\n                  resTelephoneNumber:'',//商家电话\r\n                  resQrcode:'',//店铺二维码图片\r\n                  resPhoto:'',//店铺照片\r\n              },\r\n              notice:{\r\n                  noticeId:2,//通告ID\r\n                  noticeContent:'  本店新开张，所有菜品均享有七折优惠，办理会员更有机会免费抽取万元大奖，马上加入我们吧！' +\r\n                      '\\n  新研发菜品，味道鲜美，价格实惠!',//通告内容\r\n                  noticeState:0,//通告状态\r\n                  noticeStart:'',//通告开始时间\r\n                  noticeEnd:'',//通告结束时间\r\n              },\r\n              newNotice:{\r\n                  noticeId:2,//通告ID\r\n                  noticeContent:'',//通告内容\r\n                  noticeState:0,//通告状态\r\n                  noticeStart:'',//通告开始时间\r\n                  noticeEnd:'',//通告结束时间\r\n              },\r\n              infoContent:'  本店新开张，所有菜品均享有七折优惠，办理会员更有机会免费抽取万元大奖，马上加入我们吧！' +\r\n                          '\\n  新研发菜品，味道鲜美，价格实惠!',\r\n              dialogResturantFormVisible:false,\r\n              dialogInfoFormVisible:false,\r\n              dialogImageUrl: '',\r\n              dialogVisible: false,\r\n              disabled: false,\r\n              fileList1:[],\r\n              fileList2:[],\r\n              formData:'',\r\n          }\r\n        },\r\n        created() {\r\n            //获取店铺信息\r\n            this.getResDetail();\r\n            //获取通告信息\r\n            this.getResInfo();\r\n        },\r\n        methods:{\r\n            uploadResturantQrcodeImg: function () {\r\n                this.$el.querySelector('.hiddenInputQrcode').click();\r\n            },\r\n            uploadResturantPhotoImg: function () {\r\n                this.$el.querySelector('.hiddenInputPhoto').click();\r\n            },\r\n            handleQrcodeFile: function (e) {\r\n                let $target = e.target || e.srcElement;\r\n                let formData = new FormData();\r\n                formData.append('pic', $target.files[0]);\r\n                console.log($target.files[0]);\r\n                console.log(formData);\r\n                this.axios.post(`http://localhost:8080/resturant/up`,formData,{\r\n                    headers:{\r\n                        'Content-Type': 'multipart/form-data',\r\n                    },\r\n                }).then(r=>{\r\n                    //console.log(r.data);\r\n                    //console.log(\"http://localhost:8080/image/\"+r.data.saveFileName);\r\n                    this.form.resQrcode=\"http://localhost:8080/image/\"+r.data.saveFileName;\r\n\r\n                });\r\n            },\r\n            handlePhotoFile: function (e) {\r\n                let $target = e.target || e.srcElement;\r\n                let formData = new FormData();\r\n                formData.append('pic', $target.files[0]);\r\n                console.log($target.files[0]);\r\n                console.log(formData);\r\n                this.axios.post(`http://localhost:8080/resturant/up`,formData,{\r\n                    headers:{\r\n                        'Content-Type': 'multipart/form-data',\r\n                    },\r\n                }).then(r=>{\r\n                    //console.log(r.data);\r\n                    //console.log(\"http://localhost:8080/image/\"+r.data.saveFileName);\r\n                    this.form.resPhoto=\"http://localhost:8080/image/\"+r.data.saveFileName;\r\n\r\n                });\r\n            },\r\n            //移除\r\n            handleRemove1(file, fileList) {\r\n                this.fileList1=[];\r\n                // return this.$confirm(`确定移除 ${ file.name }？`);\r\n            },\r\n            //监控上传文件列表\r\n            handleChange1(file, fileList) {\r\n                this.fileList1=[];\r\n                this.fileList1 = fileList;\r\n            },\r\n            //移除\r\n            handleRemove2(file, fileList) {\r\n                this.fileList2=[];\r\n                // return this.$confirm(`确定移除 ${ file.name }？`);\r\n            },\r\n            //监控上传文件列表\r\n            handleChange2(file, fileList) {\r\n                this.fileList2=[];\r\n                this.fileList2 = fileList;\r\n            },\r\n            handleRemove(file) {\r\n                console.log(file);\r\n            },\r\n            handlePictureCardPreview(file) {\r\n                this.dialogImageUrl = file.url;\r\n                // this.dialogVisible = true;\r\n            },\r\n            handleDownload(file) {\r\n                console.log(file);\r\n            },\r\n            //展示图片\r\n            handleAvatarSuccess(res, file) {\r\n                this.imageUrl = URL.createObjectURL(file.raw);\r\n            },\r\n            //图片上传限制\r\n            beforeAvatarUpload(file) {\r\n                const isJPG = file.type === 'image/jpeg';\r\n                const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n                if (!isJPG) {\r\n                    this.$message.error('上传头像图片只能是 JPG 格式!');\r\n                }\r\n                if (!isLt2M) {\r\n                    this.$message.error('上传头像图片大小不能超过 2MB!');\r\n                }\r\n                return isJPG && isLt2M;\r\n            },\r\n            //获取店铺信息\r\n            getResDetail() {\r\n                this.axios.defaults.withCredentials = true;\r\n                this.axios.get(`http://localhost:8080/resturant/getResInfo`).then(r=>{\r\n                    console.log(r);\r\n                    console.log(r.data);\r\n                    let resD = r.data.msg.ResD;\r\n                    this.resDetail = resD;\r\n                    this.resDetail.onTime = resD.onTime.substring(12,16);\r\n                    this.resDetail.offTime = resD.offTime.substring(12,16);\r\n                    this.resDetail.resQrcode = 'http://localhost:8080/image/'+resD.resQrcode;\r\n                    this.resDetail.resPhoto = 'http://localhost:8080/image/'+resD.resPhoto;\r\n                });\r\n            },\r\n            //店铺管理修改申请\r\n            applyResturantEdit:function () {\r\n                this.dialogResturantFormVisible = true;\r\n                this.form = this.resDetail;\r\n                //将显示的店铺信息图片放在弹出框中（问题是，无法传递文件信息，前后端交互的都是图片地址，只有选择之后才会有文件file）\r\n                // elements.getElementById(\"resQRId\").setAttribute(\"src\",this.resDetail.resQrcode);\r\n            },\r\n            //店铺修改信息提交\r\n            resturantInfoSubmit:function () {\r\n                this.axios.defaults.withCredentials = true;\r\n                this.form.resQrcode = this.resDetail.resQrcode.substring(28);\r\n                this.form.resPhoto = this.resDetail.resPhoto.substring(28);\r\n                this.axios.post(`http://localhost:8080/resturant/changeResInfo`,this.form).then(r=>{\r\n                    console.log(r);\r\n                    let obj = r.data.detail;\r\n                    if(obj){\r\n                        let resD = r.data.msg.ResD;\r\n                        //console.log('获取到的resD:');\r\n                        //console.log(resD);\r\n                        //alert('店铺修改信息提交成功');\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t          message: '店铺修改信息提交成功',\r\n\t\t\t\t\t\t          type: 'success'\r\n\t\t\t\t\t\t        });\r\n                        this.dialogResturantFormVisible = false;//关闭该窗口\r\n                        this.resDetail.resQrcode = 'http://localhost:8080/image/'+resD.resQrcode;\r\n                        this.resDetail.resPhoto = 'http://localhost:8080/image/'+resD.resPhoto;\r\n                        console.log('上传结束后，resDetail:');\r\n                        console.log(this.resDetail);\r\n\r\n                    }else{\r\n                        //alert('店铺修改信息提交失败');\r\n\t\t\t\t\t\tthis.$message.error('店铺修改信息提交失败');\r\n                    }\r\n                });\r\n\r\n            },\r\n            //获取通告信息\r\n            getResInfo() {\r\n                this.axios.defaults.withCredentials = true;\r\n                this.axios.get(`http://localhost:8080/resturant/getNoticeInfo`).then(r=>{\r\n                    console.log(r);\r\n                    console.log(r.data);\r\n                    console.log(r.data.msg.NewNotice);\r\n                    this.notice = r.data.msg.NewNotice;\r\n                });\r\n            },\r\n            //通告管理修改申请\r\n            applyInfoEdit:function () {\r\n                this.dialogInfoFormVisible = true;\r\n                this.newNotice = this.notice;\r\n            },\r\n            //通告管理修改提交\r\n            dialogInfoSubmit:function() {\r\n                this.axios.defaults.withCredentials = true;\r\n                this.axios.post(`http://localhost:8080/resturant/addNoticeInfo`,this.newNotice).then(r=>{\r\n                    console.log(r);\r\n                    let obj = r.data;\r\n                    if(obj){\r\n                        \r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t          message: '通告信息修改成功',\r\n\t\t\t\t\t\t          type: 'success'\r\n\t\t\t\t\t\t        });\r\n                        this.dialogInfoFormVisible = false;//关闭该窗口\r\n                    }else{\r\n                        \r\n\t\t\t\t\t\tthis.$message.error('通告信息修改失败');\r\n                    }\r\n                });\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.resturantManage{\r\n    flex:3;\r\n    display: flex;\r\n    -flex-direction: column;\r\n    -background-color: bisque;\r\n    padding-top: 10px;\r\n    padding-bottom: 10px;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n    .resturantManageLeft{\r\n        flex:1;\r\n        -background-color: coral;\r\n        padding-top: 10px;\r\n        padding-bottom: 10px;\r\n        padding-left: 10px;\r\n        padding-right: 10px;\r\n    }\r\n    .resturantManageRight{\r\n        flex:1;\r\n        -background-color: lightcoral;\r\n        padding-top: 10px;\r\n        padding-bottom: 10px;\r\n        padding-left: 10px;\r\n        padding-right: 10px;\r\n    }\r\n    .line{\r\n        flex:1;\r\n        -background-color: lightskyblue;\r\n        padding-top: 10px;\r\n        padding-bottom: 5px;\r\n        padding-left: 10px;\r\n        padding-right: 10px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        text-align: center;\r\n        .l {\r\n            display: flex;\r\n            text-align: center;\r\n            -background-color: lightcoral;\r\n            .l1 {\r\n                flex: 1;\r\n                -background-color: #42b983;\r\n                padding-top: 10px;\r\n                text-align: center;\r\n            }\r\n            .l2 {\r\n                flex: 3;\r\n                -background-color: coral;\r\n                padding-top: 10px;\r\n                text-align: left;\r\n            }\r\n            .l3 {\r\n                flex: 4;\r\n                -background-color: azure;\r\n                padding-top: 0px;\r\n                text-align: right;\r\n            }\r\n        }\r\n    }\r\n    .avatar-uploader .el-upload {\r\n        border: 1px dashed #d9d9d9;\r\n        -border: 2px red;\r\n        border-radius: 6px;\r\n        cursor: pointer;\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n    .avatar-uploader .el-upload:hover {\r\n        border-color: #409EFF;\r\n    }\r\n    .avatar-uploader-icon {\r\n        font-size: 16px;\r\n        color: #8c939d;\r\n        width: 80px;\r\n        height: 80px;\r\n        line-height: 80px;\r\n        text-align: center;\r\n    }\r\n    .avatar {\r\n        width: 80px;\r\n        height: 80px;\r\n        display: block;\r\n    }\r\n}\r\n</style>"]}]}